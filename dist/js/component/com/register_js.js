"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}define(["jquery","cookie"],function(){return new(function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){$(function(){$("#register_wramming").hide().text(""),$("#register_email").blur(function(e){e.preventDefault();var r=$("#register_email").val();r?/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(r)?($("#register_next").children().attr("disabled",!1),$("#register_next").children().on("click",function(e){e.preventDefault(),console.log(r),$.ajax({type:"post",url:"http://localhost/www/api/v1/register.php",data:{email:r},success:function(e){console.log(e),console.log(e.res_code),e.res_code?($("#register_box").hide(),$("#register_box2").show(),$("#register_password_btn").on("click",function(e){e.preventDefault();var t=$("#register_password").val();console.log(t),t&&$.ajax({type:"post",url:"http://localhost/www/api/v1/register_into.php",data:{email:r,password:t},success:function(e){console.log(e),$.cookie("Microsoft",r),location.href="http://localhost:2000/html/component/login.html"},error:function(e){console.log(e)},dataType:"json"})})):$("#register_wramming").show().text("电子邮件地址已使用。")},error:function(e){console.log(e)},dataType:"json"})})):($("#register_next").children().attr("disabled",!0),$("#register_wramming").show().text("输入 someone@example.com 格式的电子邮件地址。")):($("#register_next").children().attr("disabled",!0),$("#register_wramming").show().text("电子邮件地址为必填"))})})}}]),e}())});